@use '../variables' as *;

.tabs {
	margin-bottom: var(--spacing-lg);

	&__tab-list {
		margin: 0;
		padding: 0;
		display: flex;

		&__item {
			display: block;
			margin-block: 0;

			strong {
				display: block;
			}

			[role="tab"] {
				text-align: match-parent;
				cursor: pointer;
				display: block;
				width: 100%;
				padding: var(--spacing-xs) var(--spacing-sm);
				text-decoration-color: transparent;
				color: inherit;

				&:focus {
					text-decoration-color: currentColor;
				}

				&[aria-selected="true"],
				&:hover, &:focus, &:active {
					background: rgb(255 255 255 / 0.25);
				}
			}
		}
	}

	&__content {
		background: white;
		padding-block: 0;

		[role="tabpanel"] {
			height: 0;
			overflow: hidden;
			opacity: 0;
			transition: opacity 0.3s ease;

			&[data-open="true"] {
				height: auto;
				opacity: 1;
				padding: var(--spacing-md);
			}

			@media (prefers-reduced-motion) {
				transition: none;
			}
		}

		@each $name, $color in $colors {
			&[data-color-theme="#{$name}"] {
				h2, h3 {
					color: var(--color-#{$name});
				}
			}
		}
	}

	&[data-orientation="vertical"] {
		container-type: inline-size;
		display: flex;
		flex-direction: row;

		.tabs__tab-list {
			width: 100%;
			margin: 0;

			@container (min-width: 600px) {
				width: 14rem;
				flex-basis: 14rem;
				min-width: 14rem;
				flex-direction: column;
				justify-content: flex-start;
			}

			&__item {
				width: 100%;
			}
		}

		.tabs__content {
			width: 100%;

			@container (min-width: 600px) {
				width: auto;
				flex-basis: auto;
				flex-grow: 1;
			}
		}
	}
}
